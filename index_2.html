<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kolkata Pincode History</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #3498db;
      --secondary-color: #2c3e50;
      --accent-color: #16a085;
      --light-bg: #f8f9fa;
      --light-text: #333;
      --light-card: #fff;
      --light-border: #e0e0e0;
      --dark-bg: #121212;
      --dark-text: #e0e0e0;
      --dark-card: #1e1e1e;
      --dark-border: #333;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--light-bg);
      color: var(--light-text);
      line-height: 1.6;
      transition: var(--transition);
    }

    body.dark-theme {
      background: var(--dark-bg);
      color: var(--dark-text);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    header {
      background: var(--secondary-color);
      color: white;
      padding: 1.5rem 0;
      box-shadow: var(--shadow);
      position: relative;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    h1 {
      font-size: 2.2rem;
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .tagline {
      font-size: 1.1rem;
      opacity: 0.9;
      margin-top: 5px;
    }

    .controls {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    #theme-toggle, #search-input {
      padding: 10px 15px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      transition: var(--transition);
    }

    #theme-toggle {
      background: var(--accent-color);
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    #theme-toggle:hover {
      background: #138a72;
      transform: translateY(-2px);
    }

    #search-input {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      width: 250px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    #search-input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    #search-input:focus {
      outline: none;
      background: rgba(255, 255, 255, 0.15);
    }

    .main-content {
      padding: 30px 0;
    }

    .stats-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 25px;
      padding: 15px;
      background: var(--light-card);
      border-radius: 8px;
      box-shadow: var(--shadow);
    }

    body.dark-theme .stats-bar {
      background: var(--dark-card);
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-color);
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--light-text);
      opacity: 0.8;
    }

    body.dark-theme .stat-label {
      color: var(--dark-text);
    }

    #pincode-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
    }

    .pincode-card {
      background: var(--light-card);
      border-radius: 10px;
      padding: 20px;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow);
      border: 1px solid var(--light-border);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    body.dark-theme .pincode-card {
      background: var(--dark-card);
      border: 1px solid var(--dark-border);
    }

    .pincode-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    }

    .pincode-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: var(--primary-color);
    }

    .pincode-number {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 10px;
    }

    .place-name {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .card-icon {
      font-size: 2rem;
      margin-bottom: 15px;
      color: var(--accent-color);
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      animation: fadeIn 0.3s;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background: var(--light-card);
      margin: 5% auto;
      padding: 0;
      width: 90%;
      max-width: 700px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      animation: slideUp 0.4s;
    }

    body.dark-theme .modal-content {
      background: var(--dark-card);
    }

    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .modal-header {
      background: var(--secondary-color);
      color: white;
      padding: 20px;
      position: relative;
    }

    #close {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 28px;
      cursor: pointer;
      transition: var(--transition);
    }

    #close:hover {
      color: var(--accent-color);
    }

    .modal-body {
      padding: 25px;
    }

    .modal-footer {
      padding: 15px 25px;
      background: rgba(0, 0, 0, 0.03);
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }

    body.dark-theme .modal-footer {
      background: rgba(255, 255, 255, 0.05);
    }

    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--primary-color);
      color: white;
    }

    .btn-primary:hover {
      background: #2980b9;
    }

    .btn-secondary {
      background: var(--accent-color);
      color: white;
    }

    .btn-secondary:hover {
      background: #138a72;
    }

    .modal-section {
      margin-bottom: 20px;
    }

    .modal-section h3 {
      margin-bottom: 10px;
      color: var(--primary-color);
      border-bottom: 1px solid var(--light-border);
      padding-bottom: 5px;
    }

    body.dark-theme .modal-section h3 {
      border-bottom: 1px solid var(--dark-border);
    }

    .loading {
      text-align: center;
      padding: 20px;
      color: var(--primary-color);
    }

    .wiki-content {
      max-height: 200px;
      overflow-y: auto;
      padding: 10px;
      background: rgba(0, 0, 0, 0.03);
      border-radius: 6px;
      margin-top: 10px;
    }

    body.dark-theme .wiki-content {
      background: rgba(255, 255, 255, 0.05);
    }

    footer {
      background: var(--secondary-color);
      color: white;
      text-align: center;
      padding: 20px 0;
      margin-top: 40px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        gap: 15px;
      }

      #search-input {
        width: 100%;
      }

      .stats-bar {
        flex-direction: column;
        gap: 15px;
      }

      #pincode-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }

      .modal-content {
        width: 95%;
        margin: 10% auto;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <div>
          <h1>Kolkata Pincode Directory</h1>
          <p class="tagline">Explore the history and significance of Kolkata's landmarks</p>
        </div>
        <div class="controls">
          <input type="text" id="search-input" placeholder="Search by pincode or place...">
          <button id="theme-toggle">
            <i class="fas fa-moon"></i> Dark Mode
          </button>
        </div>
      </div>
    </div>
  </header>

  <div class="container main-content">
    <div class="stats-bar">
      <div class="stat-item">
        <div class="stat-value" id="total-pincodes">20</div>
        <div class="stat-label">Total Pincodes</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="filtered-pincodes">20</div>
        <div class="stat-label">Displayed</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">700001</div>
        <div class="stat-label">Starting Pincode</div>
      </div>
    </div>

    <div id="pincode-grid"></div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="place-name"></h2>
        <span id="close">&times;</span>
      </div>
      <div class="modal-body">
        <div class="modal-section">
          <h3>Pincode Information</h3>
          <p><strong>Pincode:</strong> <span id="pincode"></span></p>
          <p id="history"></p>
        </div>
        <div class="modal-section">
          <h3>Additional Information</h3>
          <div id="wiki-content" class="wiki-content">
            <div class="loading">
              <i class="fas fa-spinner fa-spin"></i> Loading from Wikipedia...
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button id="read-more-btn" class="btn btn-primary">
          <i class="fas fa-external-link-alt"></i> Read More on Wikipedia
        </button>
        <button id="close-modal-btn" class="btn btn-secondary">
          <i class="fas fa-times"></i> Close
        </button>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>Kolkata Pincode Directory &copy; 2023 | Explore the City of Joy</p>
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // JSON data (20 famous places in Kolkata)
      const data = {
        "700001": { 
          "place": "Writers' Building", 
          "history": "Constructed in 1777, it served as the office for East India Company writers and later became the secretariat of West Bengal.",
          "icon": "fa-pen-fancy"
        },
        "700016": { 
          "place": "College Street", 
          "history": "Known as 'Boi Para', it is the largest book market in India and a hub of intellectual culture.",
          "icon": "fa-book"
        },
        "700020": { 
          "place": "Kalighat Temple", 
          "history": "One of the 51 Shakti Peethas, Kalighat Temple is a major pilgrimage site dedicated to Goddess Kali.",
          "icon": "fa-place-of-worship"
        },
        "700021": { 
          "place": "Victoria Memorial", 
          "history": "Built between 1906â€“1921, this marble monument commemorates Queen Victoria and is now a museum.",
          "icon": "fa-monument"
        },
        "700023": { 
          "place": "Howrah Bridge", 
          "history": "Opened in 1943, this cantilever bridge over the Hooghly River is an iconic symbol of Kolkata.",
          "icon": "fa-bridge"
        },
        "700027": { 
          "place": "Indian Museum", 
          "history": "Founded in 1814, it is the oldest museum in India, housing rare collections of antiques and fossils.",
          "icon": "fa-landmark"
        },
        "700029": { 
          "place": "Rabindra Sarobar", 
          "history": "An artificial lake surrounded by gardens, named after Rabindranath Tagore, popular for recreation.",
          "icon": "fa-water"
        },
        "700031": { 
          "place": "Dakshineswar Kali Temple", 
          "history": "Built in 1855 by Rani Rashmoni, dedicated to Goddess Kali, associated with Sri Ramakrishna.",
          "icon": "fa-place-of-worship"
        },
        "700034": { 
          "place": "Science City", 
          "history": "Opened in 1997, Science City is the largest science center in India with interactive exhibits.",
          "icon": "fa-flask"
        },
        "700036": { 
          "place": "Belur Math", 
          "history": "Founded by Swami Vivekananda, headquarters of the Ramakrishna Mission, blending Hindu, Christian, and Islamic architecture.",
          "icon": "fa-university"
        },
        "700037": { 
          "place": "Alipore Zoo", 
          "history": "Established in 1876, it is India's oldest zoological park, home to diverse species.",
          "icon": "fa-paw"
        },
        "700039": { 
          "place": "South Park Street Cemetery", 
          "history": "Dating back to 1767, it is one of the oldest cemeteries in the world, with colonial-era tombs.",
          "icon": "fa-tombstone"
        },
        "700040": { 
          "place": "Birla Planetarium", 
          "history": "Inaugurated in 1963, it is one of the largest planetariums in Asia, offering astronomy shows.",
          "icon": "fa-globe"
        },
        "700041": { 
          "place": "St. Paul's Cathedral", 
          "history": "Completed in 1847, this Anglican cathedral is known for its Gothic architecture.",
          "icon": "fa-church"
        },
        "700046": { 
          "place": "Eden Gardens", 
          "history": "Established in 1864, Eden Gardens is one of the most iconic cricket stadiums in the world.",
          "icon": "fa-baseball-ball"
        },
        "700050": { 
          "place": "Marble Palace", 
          "history": "Built in 1835 by Raja Rajendra Mullick, famous for its marble architecture and art collection.",
          "icon": "fa-gem"
        },
        "700052": { 
          "place": "Town Hall", 
          "history": "Constructed in 1813, Town Hall was used for social gatherings and is now a heritage site.",
          "icon": "fa-building"
        },
        "700053": { 
          "place": "Metropolitan Building", 
          "history": "A colonial-era building on Chowringhee Road, known for its grand architecture.",
          "icon": "fa-archway"
        },
        "700054": { 
          "place": "Sealdah Station", 
          "history": "One of the busiest railway stations in India, serving millions of passengers daily.",
          "icon": "fa-train"
        },
        "700055": { 
          "place": "Nakhoda Mosque", 
          "history": "Built in 1926, it is the largest mosque in Kolkata, modeled after Akbar's tomb in Agra.",
          "icon": "fa-mosque"
        }
      };

      // DOM elements
      const grid = document.getElementById('pincode-grid');
      const modal = document.getElementById('modal');
      const closeBtn = document.getElementById('close');
      const closeModalBtn = document.getElementById('close-modal-btn');
      const placeName = document.getElementById('place-name');
      const pincode = document.getElementById('pincode');
      const history = document.getElementById('history');
      const wikiContent = document.getElementById('wiki-content');
      const readMoreBtn = document.getElementById('read-more-btn');
      const themeToggle = document.getElementById('theme-toggle');
      const searchInput = document.getElementById('search-input');
      const filteredPincodes = document.getElementById('filtered-pincodes');

      // Current selected pincode for Wikipedia API
      let currentPincode = '';
      let currentPlaceName = '';

      // Render grid of pincodes with place names
      function renderGrid(filter = '') {
        grid.innerHTML = '';
        let count = 0;
        
        for (let code in data) {
          const place = data[code].place.toLowerCase();
          const pincode = code;
          
          if (filter === '' || place.includes(filter.toLowerCase()) || pincode.includes(filter)) {
            const card = document.createElement('div');
            card.className = 'pincode-card';
            card.innerHTML = `
              <div class="card-icon">
                <i class="fas ${data[code].icon}"></i>
              </div>
              <div class="pincode-number">${code}</div>
            `;
            card.addEventListener('click', () => showDetails(code));
            grid.appendChild(card);
            count++;
          }
        }
        
        filteredPincodes.textContent = count;
      }

      // Initial render
      renderGrid();

      // Search functionality
      searchInput.addEventListener('input', (e) => {
        renderGrid(e.target.value);
      });

      // Show details in modal
      function showDetails(code) {
        const info = data[code];
        currentPincode = code;
        currentPlaceName = info.place;
        
        placeName.textContent = info.place || "Data not available";
        pincode.textContent = code;
        history.textContent = info.history || "Historical details coming soon.";
        
        // Reset wiki content
        wikiContent.innerHTML = '<div class="loading"><i class="fas fa-spinner fa-spin"></i> Loading from Wikipedia...</div>';
        
        // Fetch Wikipedia data
        fetchWikipediaData(info.place);
        
        modal.style.display = 'block';
      }

      // Fetch Wikipedia data
      async function fetchWikipediaData(placeName) {
        try {
          const response = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(placeName)}`);
          const data = await response.json();
          
          if (data.extract) {
            wikiContent.innerHTML = `<p>${data.extract}</p>`;
            readMoreBtn.onclick = () => {
              window.open(data.content_urls.desktop.page, '_blank');
            };
          } else {
            wikiContent.innerHTML = '<p>No additional information available from Wikipedia.</p>';
          }
        } catch (error) {
          console.error('Error fetching Wikipedia data:', error);
          wikiContent.innerHTML = '<p>Failed to load additional information. Please check your connection.</p>';
        }
      }

      // Close modal
      function closeModal() {
        modal.style.display = 'none';
      }

      closeBtn.onclick = closeModal;
      closeModalBtn.onclick = closeModal;

      // Close modal when clicking outside
      window.onclick = (event) => {
        if (event.target === modal) {
          closeModal();
        }
      };

      // Theme toggle
      themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-theme');
        if (document.body.classList.contains('dark-theme')) {
          themeToggle.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
        } else {
          themeToggle.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
        }
      });
    });
  </script>
</body>
</html>